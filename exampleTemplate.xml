<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<query>
    <Select>
        <column>
            <typeAlias>res</typeAlias>
            <attribute>r_object_id</attribute>
            <asName>reservoir_id</asName>
            <description></description>
        </column>
        <column>
            <typeAlias>res</typeAlias>
            <attribute>reservoir_name_registered</attribute>
            <description></description>
        </column>
        <column>
            <typeAlias>pfa</typeAlias>
            <attribute>area_name</attribute>
            <asName>public_area_name</asName>
            <description></description>
        </column>
        <column>
            <typeAlias>pfa</typeAlias>
            <attribute>area_type</attribute>
            <asName>public_area_type</asName>
            <description></description>
        </column>
        <column>
            <typeAlias>wmr</typeAlias>
            <attribute>region_name</attribute>
            <asName>water_mgmt_region_name</asName>
            <description></description>
        </column>
        <column>
            <typeAlias>wmr</typeAlias>
            <attribute>region_type</attribute>
            <asName>water_mgmt_region_type</asName>
            <description></description>
        </column>
        <column>
            <typeAlias>dam</typeAlias>
            <attribute>dam_top_level</attribute>
            <description></description>
        </column>
        <column>
            <typeAlias>dam</typeAlias>
            <attribute>outlet_type_and_location</attribute>
            <description></description>
        </column>
        <column>
            <typeAlias>u</typeAlias>
            <attribute>registered_paon</attribute>
            <description></description>
        </column>
        <column>
            <typeAlias>u</typeAlias>
            <attribute>undertaker_name</attribute>
            <description></description>
        </column>
        <column>
            <typeAlias>ucon</typeAlias>
            <attribute>forename</attribute>
            <description></description>
        </column>
        <column>
            <typeAlias>ucon</typeAlias>
            <attribute>street</attribute>
            <description></description>
        </column>
    </Select>
    <From>
        <type>
            <name>ea_reservoir</name>
            <alias>res</alias>
        </type>
        <type>
            <name>ea_resv_water_mgt_area</name>
            <alias>wma_res</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>wma_res</typeAlias>
                    <attribute>parent_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>res</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_area</name>
            <alias>wma</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>wma</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>wma_res</typeAlias>
                    <attribute>child_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_resv_pub_face_area</name>
            <alias>pfa_res</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>pfa_res</typeAlias>
                    <attribute>parent_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>res</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_area</name>
            <alias>pfa</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>pfa</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>pfa_res</typeAlias>
                    <attribute>child_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_res_pub_face_region</name>
            <alias>pfr_res</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>pfr_res</typeAlias>
                    <attribute>parent_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>res</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_region</name>
            <alias>pfr</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>pfr</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>pfr_res</typeAlias>
                    <attribute>child_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_resv_water_mgt_reg</name>
            <alias>wmr_res</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>wmr_res</typeAlias>
                    <attribute>parent_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>res</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_region</name>
            <alias>wmr</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>wmr</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>wmr_res</typeAlias>
                    <attribute>child_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_reservoir_dam</name>
            <alias>dam_res</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>dam_res</typeAlias>
                    <attribute>parent_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>res</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_dam</name>
            <alias>dam</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>dam</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>dam_res</typeAlias>
                    <attribute>child_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_undertaker_resv</name>
            <alias>u_res</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>res</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>u_res</typeAlias>
                    <attribute>child_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_undertaker</name>
            <alias>u</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>u_res</typeAlias>
                    <attribute>parent_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>u</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_undertaker_contacts</name>
            <alias>u_ucon</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>u</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>u_ucon</typeAlias>
                    <attribute>child_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
        <type>
            <name>ea_undertaker_contact</name>
            <alias>ucon</alias>
            <joinCondition joinType="LEFT OUTER">
                <leftColumn>
                    <typeAlias>u_ucon</typeAlias>
                    <attribute>parent_id</attribute>
                    <description></description>
                </leftColumn>
                <condition>=</condition>
                <rightColumn>
                    <typeAlias>ucon</typeAlias>
                    <attribute>r_object_id</attribute>
                    <description></description>
                </rightColumn>
            </joinCondition>
        </type>
    </From>
    <Where>
        <conditon>
            <leftValue>res.physical_status</leftValue>
            <compareOp>=</compareOp>
            <rightValue>'In operation'</rightValue>
        </conditon>
        <conditon logicOp="AND">
            <leftValue>pfa.area_name</leftValue>
            <compareOp>=</compareOp>
            <rightValue>'Central'</rightValue>
        </conditon>
    </Where>
    <OrderBy>
        <column>
            <name>res.r_object_id</name>
        </column>
        <column>
            <name>pfa.area_name</name>
            <ordering>DESC</ordering>
        </column>
    </OrderBy>
</query>
